\documentclass[12pt,fleqn]{article}\usepackage{../../common}
\begin{document}
Çifteþlik, Ýkizlik (Duality)

Bu benim en favori konularýmdan. Çok faydalý ve çok güzel bir teknik, bakýþ
açýsý. Bu konu üzerinde iki ders zamaný harcayacaðýz. Konuyu lineer
programlama (LP) üzerinden göreceðiz, çünkü bu alanda çifteþlik pratik
olarak rahatça gösterilebiliyor.

[önceki ders özeti atlandý]

Önümüzdeki iki ders için teori þapkamýzý takacaðýz, tabii çifteþliðin pek
çok optimizasyon problemi üzerinde çok ciddi etkileri var. Yani bu konu
bulutlar üzerinde, aþýrý soyut bir konu deðil, onu vurgulamak istiyorum. 

Ama þimdilik soyut denebilecek bir problemle baþlayalým. Diyelim ki elimde
bir LP var ve bu LP'nin optimal deðeri için bir alt sýnýr bulmak istiyorum,
$B \le \min_x f(x)$. Çifteþliðe bu çok basit soru üzerinden giriþ
yapacaðýz. Örnek

$$
\min_{x,y} x+y, \quad \textrm{öyle ki}
$$
$$
x + y \ge 2 
$$
$$
x,y \ge 0
$$

dogru olsun. 

Ýki skalar deðiþken var, ve pozitif olmalýlar. Bu problem için alt sýnýr
nedir? Çýplak gözle bile bakarak bunu bulabiliriz, cevap 2. Deðil mi? $x+y
\ge 2$ þartýna uymak gerekiyorsa alt sýnýr 2 olacaktýr. 

Bazýlarýnýz düþünebilir ki ``þanslýydýk, problem þartlarý aradýðýmýz þeyi
söylüyordu zaten''. Doðru fakat iddia ediyorum ki bu stratejiyi metodik bir
þekilde de kullanabilirdik. Benzer bir problem, 

$$
\min_{x,y} x + 3y, \quad \textrm{öyle ki}
$$
$$
x + y \ge 2 
$$
$$
x \ge 0, y \ge 0
$$

Bu problemin alt sýnýrýný nasýl buluruz?

Eðer $y \ge 0$ þartýný ikiyle çarparsak $2y \ge 0$ diye yeni bir þart elde
ederiz (hala doðru), bu yeni þartý alýp $x + y \ge 2 $'a eklersek $x + 3y
\ge 2 $ þeklinde bir þart daha elde etmiþ oluruz. Bu þart hedef
fonksiyonuna benzediði için alt sýnýrý direk söylüyor, alt sýnýr yine 2.
 
Üstteki probleme daha genel bir açýdan bakalým,

$$
\min_{x,y} px + qy, \quad \textrm{öyle ki}
$$
$$
x + y \ge 2
$$
$$
x,y \ge 0
$$

Alt sýnýr nedir? Öncekine göre biraz farklý bir strateji izleyeceðiz,
diyelim ki her þartý $a,b,c$ sabitleri ile çarptým, 

$$
ax + ay \ge 2a
$$
$$
bx \ge 0
$$
$$
cy \ge 0
$$

Bu tabii ki $a,b,c \ge 0$ ise yapýlabilir yoksa iþaretler deðiþirdi. Devam
edelim, yine bazý ek koþullar yaratmýþ oldum. Bu yeni þartlarý toplarsam
bir yeni þart daha elde ederim,

$$
(a+b)x + (a+c)y \ge 2a
$$

Yeni deðiþken isimleri $p,q$ atarsam

$$
px + qy \ge 2a
$$

atama

$$
a+b = p, \quad a+c = q
$$

Aslýnda alt sýnýrý iki üstteki denklemden bulmuþ olduk, $2a$ (bir üstteki
þartlara uyulduðu sürece tabii).

Eðer en iyi alt sýnýrý isteseydim, onu nasýl elde ederdim? Bu demektir ki
$2a$ olabildiðince büyük olmalý, tabii belli þartlara uyulduðu
sürece. Aslýnda bu soru bizi ikinci bir LP'ye götürüyor, literatürde ana
LP'nin çifteþi / ikizi denen LP'ye. Ýki deðiþkenli ortamda,

$$
\max_{a,b,c} 2a \quad \textrm{öyle ki}
$$
$$
a + b = p
$$
$$
a + c = q
$$
$$
a,b,c \ge 0
$$

Maksimum arandýðýna dikkat ve bu problemde üç tane deðiþken var (ana
problemde iki taneydi). Ve böylece deriz ki üstteki þartlara uyan her
$a,b,c$ (ki bu þartlara ikizin olurluk / fizibilite þartlarý deniyor)
maksimal noktada ana problemin alt sýnýrýný minimize eder.

Bir soru sorayým: acaba üstteki problemden bir eþitlik elde etmem mümkün
mü? Yani ikizdeki problemin optimal deðeri ana problemdeki optimal deðere
eþit olabilir mi? Cevap evet. Peki arada boþluk olmasý mümkün mü? Cevap
(bazen) evet. Ýyi bir sezgisel bakýþ bu, ana ve ikiz LP optimal deðerleri
neredeyse her zaman birbirine eþittir, bazý istanai patolojik durumlar
dýþýnda.

Farklý bir probleme bakalým. Bu problemde bir eþitlik te olacak. 

$$
\min_{a,b,c} px + qy \quad \textrm{öyle ki}
$$
$$
x \ge 0
$$
$$
y \le 1
$$
$$
3x + y = 2
$$

Ýkizi bulmak için her koþul için bir deðiþken atayalým, ama ondan önce her
ana koþulda eþitsizlikler ayný þekilde ise iþimiz daha rahatlaþýr (çünkü
$a,b,c,..$ deðiþkenlerini sýfýrdan büyük yapacaðýz, ama farklý yönleri
gösteren ana koþullar ile bu zorlaþýyor), $y \le 1$ yerine $-y \ge -1$
mesela, o zaman

$$
\min_{a,b,c} px + qy \quad \textrm{öyle ki}
$$
$$
x \ge 0
$$
$$
-y \ge -1
$$
$$
3x + y = 2
$$

Yine $a,b,c$ ile çarpýyorum, 

$$
a x \ge 0
$$
$$
-by \ge -b
$$
$$
3cx + cy = 2c
$$
$$
a,b \ge 0
$$


$c$ üzerinde koþul var mý? Hayýr, çünkü $c$'nin çarptýðý koþul bir eþitlik,
$c$ ne olursa olsun yeni koþul geçerli, iþaret deðiþiminden korkmaya gerek
yok.

Önceden olduðu gibi bir toplam alýyoruz, 

$$
(a+3c) x + (-b+c)y \ge -b + 2c
$$

Yine $p,q$ atamasýný yaparsam,

$$
p x + q y \ge -b + 2c
$$

$$
p = a+3c, \quad q = -b + c 
$$

Ýkiz problemi elde ettik, amaç ana problemin alt sýnýrý $-b+2c$'yi maksimize
etmek, üstteki iki þart ve $a,b \ge 0$ olacak þekilde. 

$$
\max_{a,b,c} 2c - b \quad \textrm{öyle ki}
$$
$$
a + 3c = p
$$
$$
-b + c = q
$$
$$
a,b \ge 0
$$

Dersin geri kalanýnda ikizlikten genel bir çerçevede bahsedeceðim, sonra 
bir ilginç örnek göreceðiz, ardýndan ikizliðe yeni bir bakýþ açýsýndan
yaklaþacaðýz, bu acý çok önemli olacak. Dersi ikinci bir örnekle
bitireceðiz. 

LP'lere tüm genelliði ile bakalým þimdi. Önceki format neler olup bittiðini
görmek açýsýndan faydalý, ama genel þablonu da görmek lazým. 

Tanýmlar

$c \in \mathbb{R}^n$, 
$A \in \mathbb{R}^{m \times n}$, 
$b \in \mathbb{R}^m$,
$G \in \mathbb{R}^{r \times n}$, 
$h \in \mathbb{R}^r$ verili. 

Ana Problem

$$
\min_x c^T x \quad \textrm{öyle ki}
$$
$$
Ax = b
$$
$$
Gx \le h
$$

Ýkiz Problem

$$
\max_{u,v} -b^T u - h^T v \quad \textrm{öyle ki}
$$
$$
-A^Tu - G^Tv = c
$$
$$
v \ge 0
$$

Ýkizi nasýl elde ettik? 

$Ax = b$ ve $Gx \le h$ için iki (vektör) deðiþkeni tanýmlýyoruz, sýrasýyla
$u,v$. $u$ için kýsýtlama yok, çünkü eþitlik için. Sadece $v \ge 0$
olmalý. 

Eger $x$ olurlu ise 

$$
a^T (Ax - b) + v^T (Gx-h) \le 0
$$

olur çünkü olurluluk noktasýnda $Ax - b=0$ ve $Gx-h \le 0$, bu sebeple
üstteki toplam tabii ki sýfýrdan küçük.

Gruplarsak,

$$
(A^T u + G^T v)^T x - b^Tu - h^T v \ge 0
$$

$$
(-A^T u - G^T v)^T x \ge  -b^Tu - h^T v 
$$

Parantez içini $c$'ye atarsam o zaman 

$$
c^T x \ge  -b^Tu - h^T v 
$$

Böylece eþitliðin sað tarafý alt sýnýrým olur, sol tarafý ise ikiz
deðiþkenlerim üzerinde kýsýtlama haline gelir, $v \ge 0$. Böylece ikiz
probleme eriþmiþ oluyoruz.














[devam edecek]

Kaynaklar

[1] Tibshirani, {\em Convex Optimization, Lecture 10}, 
\url{https://www.youtube.com/channel/UCIvaLZcfz3ikJ1cD-zMpIXg}   

\end{document}

