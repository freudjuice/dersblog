\documentclass[12pt,fleqn]{article}\usepackage{../../common}
\begin{document}
Altgradyanlar (Subgradients)

[Baslangic 40:21] Altgradyanlar aslýnda bir algoritma deðil, bir
matematiksel kavram, ve hem optimizasyon, hem analiz, hem de pratik
baðlamda çok faydalý bir kavram.  Hatýrlarsak dýþbükey ve türevi alýnabilir
bir $f$ için

$$
f(y) \ge f(x) + \nabla f(x)^T (y-x)  \quad \forall x,y
$$

gerekli ve yeterli bir þart. Yani fonksiyonuma herhangi bir noktada
oluþturacaðým lineer yaklaþýksallýk, yani teðet eðri, fonksiyonum için bir
global eksik / az tahmin edici (ünderestimator) olacaktýr, yani hep ondan
küçük kalacaktýr. Bu mantýklý, görsel olaral hayal edersek kap þeklinde,
yani dýþbükey olan bir fonksiyona nerede teðet çizgi çekersem çekeyim
fonksiyonun kendisi hep o çizginin üstünde kalýr. Eðer fonksiyonum kap
olmasaydý, habire aþaðý yukarý inip çýkýyor olsaydý bir noktada o çizginin
altýna düþülebilirdi. Eðer $f$ türevi alýnabilir ise dýþbükey olmasýnýn
þartý üstteki ifadenin doðru olmasý.

Altgradyan nedir? Altgradyan üstteki gradyanin yerini alabilecek herhangi
bir $g$ vektörüdür, yerine alabilecek derken üstteki ifade her $y$ için
hala doðru olacak þekilde. 

$$
f(y) \ge f(x) + g^T (y-x) \quad \forall y
$$

Dýþbükey fonksiyonlar için $g$ her zaman mevcuttur (dýþbükey olmayan
fonksiyonlar için $g$'nin mevcudiyeti þart deðildir). Mantýki olarak
düþünürsek bir $f$ için ona eksik tahmin edici olacak bir çizgiyi her zaman
çizebiliriz. Bir noktayý seç, bir $f$ noktasýndan geçen bir çizgi çek.

Eðer $x$ noktasýnda $f$'in türevi alýnabilir ise, tek bir altgradyan
vardýr, o da türevin kendisidir, $g = \nabla f(x)$. 

Pürüzsüz olan dýþbükey olmayan ve altgradyani olmayan bir fonksiyon örneði
görelim, 

\includegraphics[width=15em]{func_42_subgrad_01.png}

Bu fonksiyonun hiçbir yerde altgradyani yok. Eðri üzerinde bir nokta
arýyorum öyle ki oradan geçen bir çizgi tüm fonksiyonu üstte
býraksýn.. böyle bir çizgi çizilemez. Altgradyan yok. Bazýlarýmýz itiraz
edebilir, ``üstteki bir içbükey fonksiyon, dýþbükeyin ters çevrilmiþ
hali''. O zaman $x^3$ diyelim, pürüzsüz, ve altgradyaný yok.

Altgradyaný olan fonksiyonlar görelim, mesela mutlak deðer fonksiyonu $f(x) = |x|$.

\includegraphics[width=15em]{func_42_subgrad_02.png}

Altgradyanlar için farklý þartlarý görelim.$x>0$ için tek bir altgradyan
var, o da $g = 1$, yani fonksiyonun eðiminin ta kendisi, eðim 1. Ayný
þekilde $x<0$ için, o zaman $g=-1$. Bu sonuç ``eðer $f$'in türevi
alýnabilir ise $g=\nabla f$'' açýklamasý ile uyuyor. $x=0$ noktasý için
birçok seçenek var, herhangi bir $[-1,1]$ öðesi için, yani -1 ve +1
arasýndaki herhangi bir sayý olabilir, çizgili noktalar seçeneklerden
ikisi.

Boyut atlayalým, $f(x) = ||x||_2$ fonksiyonunu görelim, $x$'in L2
norm'u. Iki boyutta,

\includegraphics[width=15em]{func_42_subgrad_03.png}

Eðer $x \ne 0$ ise bu fonksiyonun türevi alýnabilir (yoksa alýnamaz, bir
yaygýn görüþe göre $x=0$'da problem yok, ama var) ve altgradyani onun
mevcut gradyani, $x / ||x||_2$. $x=0$ noktasýnda altgradyan $g$
$\{ z: ||z||_2 < 1\}$ kümesinin herhangi bir öðesi.

Simdi $f(x) = ||x||_1$'i gorelim,

\includegraphics[width=15em]{func_42_subgrad_04.png}

Bu fonksiyonun $x=0$'da türevi alýnamaz, aynen tek boyutlu (mutlak deðer
fonksiyonu) versiyonunda olduðu gibi. Ayrýca bu fonksiyonun herhangi bir
eksende sýfýr deðer olduðu zamanda da türevi alýnamaz. Altgradyan için öðe öðe
yaklaþmak lazým, eðer bir öðe $x_i \ne 0$ ise $g_i = \sign(x_i)$, eðer
$x_i = 0$ ise $g_i \in [-1,+1]$.

En son örnek iki dýþbükey fonksiyonun maksimumu olaný, yani
$f(x) = \max \{f_1(x),f_2(x) \}$ ki $f_1,f_2$ dýþbükey ve türevi alýnabilir
olmak üzere, ve $f(x)$ bu iki fonksiyonun her $x$ noktasýnda $f_1(x)$ ve
$f_2(x)$'den hangisi büyükse o. Bu tür bir maks fonksiyonunun sonucunun
dýþbükey olduðunu önceki derslerden biliyoruz. 

\includegraphics[width=15em]{func_42_subgrad_05.png}

Altgradyan yine farklý þartlara göre deðiþik oluyor. Eðer $f_1(x) > f_2(x)$
o zaman altgradyan özgün, $g = \nabla f_1(x)$. Eðer $f_2(x) > f_1(x)$ ise
altgradyan özgün, $g = \nabla f_2(x)$. 

Kabaca çizersek birbirlerini kesen $f_1$ ve $f_2$ düþünelim, 

\includegraphics[width=15em]{func_42_subgrad_06.png}

onlarýn maks halleri yeþil ile [çok kabaca benim eklediðim] çizgi, yani
kesiþmenin solunda $f_2$ saðýnda $f_1$. Tabii ki sol tarafta $f_2$ aktif o
zaman onun gradyani geçerli, sað tarafta $f_1$. Kesiþme noktasý, $f_1=f_2$
ilginç, $g = \alpha \nabla f_1(x) + (1-\alpha) f_2(x)$, yani $f_1,f_2$'nin
herhangi bir dýþbükey kombinasyonu, ki iki üstteki resimde görülen iki
kesikli çizgiler bazý örnekler. 

Kaynaklar

[1] Tibshirani, {\em Convex Optimization, Lecture Video 6}, 
\url{https://www.youtube.com/channel/UCIvaLZcfz3ikJ1cD-zMpIXg}   

\end{document}

