<h1>Altgradyanlar (Subgradients)</h1>
<!DOCTYPE html>
<html>
  <head>
    <title>Altgradyanlar (Subgradients)
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {inlineMath: [["$","$"]]}
      });
    MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
      MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
        cancel: ["Extension","cancel"],
        bcancel: ["Extension","cancel"],
        xcancel: ["Extension","cancel"],
        cancelto: ["Extension","cancel"]
      });
    });
    </script>
<script type="text/javascript"
   src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full">
</script>
</head>

<p>[Baslangic 40:21] Altgradyanlar aslında bir algoritma değil, bir
matematiksel kavram, ve hem optimizasyon, hem analiz, hem de pratik
bağlamda çok faydalı bir kavram.  Hatırlarsak dışbükey ve türevi alınabilir
bir $f$ için</p>
<p>$$
f(y) \ge f(x) + \nabla f(x)^T (y-x)  \quad \forall x,y
$$</p>
<p>gerekli ve yeterli bir şart. Yani fonksiyonuma herhangi bir noktada
oluşturacağım lineer yaklaşıksallık, yani teğet eğri, fonksiyonum için bir
global eksik / az tahmin edici (ünderestimator) olacaktır, yani hep ondan
küçük kalacaktır. Bu mantıklı, görsel olaral hayal edersek kap şeklinde,
yani dışbükey olan bir fonksiyona nerede teğet çizgi çekersem çekeyim
fonksiyonun kendisi hep o çizginin üstünde kalır. Eğer fonksiyonum kap
olmasaydı, habire aşağı yukarı inip çıkıyor olsaydı bir noktada o çizginin
altına düşülebilirdi. Eğer $f$ türevi alınabilir ise dışbükey olmasının
şartı üstteki ifadenin doğru olması.</p>
<p>Altgradyan nedir? Altgradyan üstteki gradyanin yerini alabilecek herhangi
bir $g$ vektörüdür, yerine alabilecek derken üstteki ifade her $y$ için
hala doğru olacak şekilde. </p>
<p>$$
f(y) \ge f(x) + g^T (y-x) \quad \forall y
$$</p>
<p>Dışbükey fonksiyonlar için $g$ her zaman mevcuttur (dışbükey olmayan
fonksiyonlar için $g$'nin mevcudiyeti şart değildir). Mantıki olarak
düşünürsek bir $f$ için ona eksik tahmin edici olacak bir çizgiyi her zaman
çizebiliriz. Bir noktayı seç, bir $f$ noktasından geçen bir çizgi çek.</p>
<p>Eğer $x$ noktasında $f$'in türevi alınabilir ise, tek bir altgradyan
vardır, o da türevin kendisidir, $g = \nabla f(x)$. </p>
<p>Pürüzsüz olan dışbükey olmayan ve altgradyani olmayan bir fonksiyon örneği
görelim, </p>
<p><img alt="" src="func_42_subgrad_01.png" /></p>
<p>Bu fonksiyonun hiçbir yerde altgradyani yok. Eğri üzerinde bir nokta
arıyorum öyle ki oradan geçen bir çizgi tüm fonksiyonu üstte
bıraksın.. böyle bir çizgi çizilemez. Altgradyan yok. Bazılarımız itiraz
edebilir, "üstteki bir içbükey fonksiyon, dışbükeyin ters çevrilmiş
hali". O zaman $x^3$ diyelim, pürüzsüz, ve altgradyanı yok.</p>
<p>Altgradyanı olan fonksiyonlar görelim, mesela mutlak değer fonksiyonu $f(x) = |x|$.</p>
<p><img alt="" src="func_42_subgrad_02.png" /></p>
<p>Altgradyanlar için farklı şartları görelim.$x&gt;0$ için tek bir altgradyan
var, o da $g = 1$, yani fonksiyonun eğiminin ta kendisi, eğim 1. Aynı
şekilde $x&lt;0$ için, o zaman $g=-1$. Bu sonuç "eğer $f$'in türevi
alınabilir ise $g=\nabla f$" açıklaması ile uyuyor. $x=0$ noktası için
birçok seçenek var, herhangi bir $[-1,1]$ öğesi için, yani -1 ve +1
arasındaki herhangi bir sayı olabilir, çizgili noktalar seçeneklerden
ikisi.</p>
<p>Boyut atlayalım, $f(x) = ||x||_2$ fonksiyonunu görelim, $x$'in L2
norm'u. Iki boyutta,</p>
<p><img alt="" src="func_42_subgrad_03.png" /></p>
<p>Eğer $x \ne 0$ ise bu fonksiyonun türevi alınabilir (yoksa alınamaz, bir
yaygın görüşe göre $x=0$'da problem yok, ama var) ve altgradyani onun
mevcut gradyani, $x / ||x||_2$. $x=0$ noktasında altgradyan $g$
${ z: ||z||_2 &lt; 1}$ kümesinin herhangi bir öğesi.</p>
<p>Simdi $f(x) = ||x||_1$'i gorelim,</p>
<p><img alt="" src="func_42_subgrad_04.png" /></p>
<p>Bu fonksiyonun $x=0$'da türevi alınamaz, aynen tek boyutlu (mutlak değer
fonksiyonu) versiyonunda olduğu gibi. Ayrıca bu fonksiyonun herhangi bir
eksende sıfır değer olduğu zamanda da türevi alınamaz. Altgradyan için öğe öğe
yaklaşmak lazım, eğer bir öğe $x_i \ne 0$ ise $g_i = \sign(x_i)$, eğer
$x_i = 0$ ise $g_i \in [-1,+1]$.</p>
<p>En son örnek iki dışbükey fonksiyonun maksimumu olanı, yani
$f(x) = \max {f_1(x),f_2(x) }$ ki $f_1,f_2$ dışbükey ve türevi alınabilir
olmak üzere, ve $f(x)$ bu iki fonksiyonun her $x$ noktasında $f_1(x)$ ve
$f_2(x)$'den hangisi büyükse o. Bu tür bir maks fonksiyonunun sonucunun
dışbükey olduğunu önceki derslerden biliyoruz. </p>
<p><img alt="" src="func_42_subgrad_05.png" /></p>
<p>Altgradyan yine farklı şartlara göre değişik oluyor. Eğer $f_1(x) &gt; f_2(x)$
o zaman altgradyan özgün, $g = \nabla f_1(x)$. Eğer $f_2(x) &gt; f_1(x)$ ise
altgradyan özgün, $g = \nabla f_2(x)$. </p>
<p>Kabaca çizersek birbirlerini kesen $f_1$ ve $f_2$ düşünelim, </p>
<p><img alt="" src="func_42_subgrad_05.png" /></p>
<p>onların maks halleri yeşil ile [çok kabaca benim eklediğim] çizgi, yani
kesişmenin solunda $f_2$ sağında $f_1$. Tabii ki sol tarafta $f_2$ aktif o
zaman onun gradyani geçerli, sağ tarafta $f_1$. Kesişme noktası, $f_1=f_2$
ilginç, $g = \alpha \nabla f_1(x) + (1-\alpha) f_2(x)$, yani $f_1,f_2$'nin
herhangi bir dışbükey kombinasyonu, ki iki üstteki resimde görülen iki
kesikli çizgiler bazı örnekler. </p>
<p>Kaynaklar</p>
<p>[1] Tibshirani, <em>Convex Optimization, Lecture Video 6</em>, 
<a href="https://www.youtube.com/channel/UCIvaLZcfz3ikJ1cD-zMpIXg">https://www.youtube.com/channel/UCIvaLZcfz3ikJ1cD-zMpIXg</a>   </p>